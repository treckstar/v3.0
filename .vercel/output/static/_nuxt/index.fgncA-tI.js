import{_ as oe,a as le}from"./PageBody.vue.NHciShxt.js";import{aT as R,aU as de,aN as ce,aV as ue,aq as Y,m as ge,k as Z,D as h,d as N,r as H,aW as fe,o as me,U as D,al as ee,aX as he,am as B,ao as q,ap as A,aY as ve,aZ as ye,as as E,a3 as pe,ac as te,a_ as we,a$ as be,b0 as T,b1 as xe,b as f,c as b,n as S,E as u,ai as k,g as W,aj as z,f as w,e as L,ah as j,w as I,j as F,t as C,F as ae,ag as ie,b2 as _e,aR as Se,aK as V,aL as ke,aM as ze,aO as G,aP as $e,s as K}from"./entry.BA3wuCO8.js";const je={wrapper:"inline-flex flex-row-reverse justify-end",ring:"ring-2 ring-white dark:ring-gray-900",margin:"-me-1.5 first:me-0"};async function Ie(e,t){return await Me(t).catch(a=>(console.error("Failed to get image meta for "+t,a+""),{width:0,height:0,ratio:0}))}async function Me(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,i)=>{const a=new Image;a.onload=()=>{const r={width:a.width,height:a.height,ratio:a.width/a.height};t(r)},a.onerror=r=>i(r),a.src=e})}function x(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return parseInt(e,10)}function Ae(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const i of e.split(" ")){const a=parseInt(i.replace("x",""));a&&t.add(a)}return Array.from(t)}function Oe(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function Pe(e){const t={};if(typeof e=="string")for(const i of e.split(/[\s,]+/).filter(a=>a)){const a=i.split(":");a.length!==2?t["1px"]=a[0].trim():t[a[0].trim()]=a[1].trim()}else Object.assign(t,e);return t}function Ne(e){const t={options:e},i=(r,s={})=>re(t,r,s),a=(r,s={},o={})=>i(r,{...o,modifiers:Y(s,o.modifiers||{})}).url;for(const r in e.presets)a[r]=(s,o,d)=>a(s,o,{...e.presets[r],...d});return a.options=e,a.getImage=i,a.getMeta=(r,s)=>Ue(t,r,s),a.getSizes=(r,s)=>Le(t,r,s),t.$img=a,a}async function Ue(e,t,i){const a=re(e,t,{...i});return typeof a.getMeta=="function"?await a.getMeta():await Ie(e,a.url)}function re(e,t,i){var c,g;if(typeof t!="string"||t==="")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(t.startsWith("data:"))return{url:t};const{provider:a,defaults:r}=We(e,i.provider||e.options.provider),s=Be(e,i.preset);if(t=R(t)?t:de(t),!a.supportsAlias)for(const v in e.options.alias)t.startsWith(v)&&(t=ce(e.options.alias[v],t.substr(v.length)));if(a.validateDomains&&R(t)){const v=ue(t).host;if(!e.options.domains.find(m=>m===v))return{url:t}}const o=Y(i,s,r);o.modifiers={...o.modifiers};const d=o.modifiers.format;(c=o.modifiers)!=null&&c.width&&(o.modifiers.width=x(o.modifiers.width)),(g=o.modifiers)!=null&&g.height&&(o.modifiers.height=x(o.modifiers.height));const l=a.getImage(t,o,e);return l.format=l.format||d||"",l}function We(e,t){const i=e.options.providers[t];if(!i)throw new Error("Unknown provider: "+t);return i}function Be(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function Le(e,t,i){var y,O,P,$,U;const a=x((y=i.modifiers)==null?void 0:y.width),r=x((O=i.modifiers)==null?void 0:O.height),s=Pe(i.sizes),o=(P=i.densities)!=null&&P.trim()?Ae(i.densities.trim()):e.options.densities;Oe(o);const d=a&&r?r/a:0,l=[],c=[];if(Object.keys(s).length>=1){for(const p in s){const _=J(p,String(s[p]),r,d,e);if(_!==void 0){l.push({size:_.size,screenMaxWidth:_.screenMaxWidth,media:`(max-width: ${_.screenMaxWidth}px)`});for(const M of o)c.push({width:_._cWidth*M,src:Q(e,t,i,_,M)})}}Ce(l)}else for(const p of o){const _=Object.keys(s)[0];let M=J(_,String(s[_]),r,d,e);M===void 0&&(M={size:"",screenMaxWidth:0,_cWidth:($=i.modifiers)==null?void 0:$.width,_cHeight:(U=i.modifiers)==null?void 0:U.height}),c.push({width:p,src:Q(e,t,i,M,p)})}De(c);const g=c[c.length-1],v=l.length?l.map(p=>`${p.media?p.media+" ":""}${p.size}`).join(", "):void 0,m=v?"w":"x",n=c.map(p=>`${p.src} ${p.width}${m}`).join(", ");return{sizes:v,srcset:n,src:g==null?void 0:g.src}}function J(e,t,i,a,r){const s=r.options.screens&&r.options.screens[e]||parseInt(e),o=t.endsWith("vw");if(!o&&/^\d+$/.test(t)&&(t=t+"px"),!o&&!t.endsWith("px"))return;let d=parseInt(t);if(!s||!d)return;o&&(d=Math.round(d/100*s));const l=a?Math.round(d*a):i;return{size:t,screenMaxWidth:s,_cWidth:d,_cHeight:l}}function Q(e,t,i,a,r){return e.$img(t,{...i.modifiers,width:a._cWidth?a._cWidth*r:void 0,height:a._cHeight?a._cHeight*r:void 0},i)}function Ce(e){var i;e.sort((a,r)=>a.screenMaxWidth-r.screenMaxWidth);let t=null;for(let a=e.length-1;a>=0;a--){const r=e[a];r.media===t&&e.splice(a,1),t=r.media}for(let a=0;a<e.length;a++)e[a].media=((i=e[a+1])==null?void 0:i.media)||""}function De(e){e.sort((i,a)=>i.width-a.width);let t=null;for(let i=e.length-1;i>=0;i--){const a=e[i];a.width===t&&e.splice(i,1),t=a.width}}const Ee=e=>({url:e}),qe=Object.freeze(Object.defineProperty({__proto__:null,getImage:Ee},Symbol.toStringTag,{value:"Module"})),se={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"none",domains:[],alias:{},densities:[1,2],format:["webp"]};se.providers={none:{provider:qe,defaults:{}}};const ne=()=>{const e=ge(),t=Z();return t.$img||t._img||(t._img=Ne({...se,nuxt:{baseURL:e.app.baseURL}}))};function Re(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const He={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Te=e=>{const t=h(()=>({provider:e.provider,preset:e.preset})),i=h(()=>({width:x(e.width),height:x(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),a=ne(),r=h(()=>({...e.modifiers,width:x(e.width),height:x(e.height),format:e.format,quality:e.quality||a.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:i,modifiers:r}},Fe={...He,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},Ve=N({name:"NuxtImg",props:Fe,emits:["load","error"],setup:(e,t)=>{const i=ne(),a=Te(e),r=H(!1),s=h(()=>i.getSizes(e.src,{...a.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...a.modifiers.value,width:x(e.width),height:x(e.height)}})),o=h(()=>{const n={...a.attrs.value,"data-nuxt-img":""};return(!e.placeholder||r.value)&&(n.sizes=s.value.sizes,n.srcset=s.value.srcset),n}),d=h(()=>{let n=e.placeholder;if(n===""&&(n=!0),!n||r.value)return!1;if(typeof n=="string")return n;const y=Array.isArray(n)?n:typeof n=="number"?[n,n]:[10,10];return i(e.src,{...a.modifiers.value,width:y[0],height:y[1],quality:y[2]||50,blur:y[3]||3},a.options.value)}),l=h(()=>e.sizes?s.value.src:i(e.src,a.modifiers.value,a.options.value)),c=h(()=>d.value?d.value:l.value);if(e.preload){const n=Object.values(s.value).every(y=>y);fe({link:[{rel:"preload",as:"image",nonce:e.nonce,...n?{href:s.value.src,imagesizes:s.value.sizes,imagesrcset:s.value.srcset}:{href:c.value}}]})}const g=H(),m=Z().isHydrating;return me(()=>{if(d.value){const n=new Image;n.src=l.value,e.sizes&&(n.sizes=s.value.sizes||"",n.srcset=s.value.srcset),n.onload=y=>{r.value=!0,t.emit("load",y)},Re("nuxt-image");return}g.value&&(g.value.complete&&m&&(g.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),g.value.onload=n=>{t.emit("load",n)},g.value.onerror=n=>{t.emit("error",n)})}),()=>D("img",{ref:g,src:c.value,...o.value,...t.attrs})}}),X=ee(B.ui.strategy,B.ui.avatar,he),Ge=ee(B.ui.strategy,B.ui.avatarGroup,je),Ke=N({inheritAttrs:!1,props:{size:{type:String,default:null,validator(e){return Object.keys(X.size).includes(e)}},max:{type:Number,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e,{slots:t}){const{ui:i,attrs:a}=q("avatarGroup",A(e,"ui"),Ge,A(e,"class")),r=h(()=>ve(t)),s=h(()=>typeof e.max=="string"?parseInt(e.max,10):e.max),o=h(()=>r.value.map((d,l)=>{const c={};return!e.max||s.value&&l<s.value?(e.size&&(c.size=e.size),c.class=d.props.class||"",c.class=ye(E(c.class,i.value.ring,i.value.margin),c.class),pe(d,c)):s.value!==void 0&&l===s.value?D(te,{size:e.size||X.default.size,text:`+${r.value.length-s.value}`,class:E(i.value.ring,i.value.margin)}):null}).filter(Boolean).reverse());return()=>D("div",{class:i.value.wrapper,...a.value},o.value)}}),Je=L("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),Qe=L("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),Xe=["datetime"],Ye=N({inheritAttrs:!1,__name:"BlogPost",props:{...we,title:{type:String,default:void 0},description:{type:String,default:void 0},date:{type:[String,Date],default:void 0},image:{type:[String,Object],default:void 0},badge:{type:Object,default:void 0},authors:{type:Array,default:void 0},orientation:{type:String,default:"vertical"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t=be(),i=e,a=h(()=>({wrapper:E("relative group flex flex-col w-full gap-y-6",i.orientation==="horizontal"&&(i.image||t.image)?"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-center":void 0),image:{wrapper:"ring-1 ring-gray-200 dark:ring-gray-800 relative overflow-hidden aspect-[16/9] w-full rounded-lg pointer-events-none",base:"object-cover object-top w-full h-full transform transition-transform duration-200 group-hover:scale-105"},container:"flex flex-col justify-between flex-1",inner:"flex-1",badge:{wrapper:"mb-3",base:""},title:"text-gray-900 dark:text-white text-xl font-semibold truncate group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200",description:"text-base text-gray-500 dark:text-gray-400 mt-1",date:"text-sm text-gray-500 dark:text-gray-400 font-medium pointer-events-none",authors:{wrapper:"relative flex items-center gap-x-3 mt-4",avatar:{base:"relative ring-1 lg:hover:scale-105 lg:hover:ring-primary-500 dark:lg:hover:ring-primary-400 transition-transform",size:"xs"}}})),{ui:r,attrs:s}=q("blog.post",A(i,"ui"),a,A(i,"class"),!0),o=h(()=>T(i)),d=h(()=>(i.title||t.title&&xe(t.title())||"Post link").trim());return(l,c)=>{var O;const g=Ve,v=_e,m=Se,n=te,y=Ke;return f(),b("article",z({class:u(r).wrapper},u(s)),[e.image||l.$slots.image?(f(),b("div",{key:0,class:S(u(r).image.wrapper)},[k(l.$slots,"image",{},()=>[W(g,z(typeof e.image=="string"?{src:e.image,alt:e.title}:{alt:e.title,...e.image},{class:u(r).image.base}),null,16,["class"])])],2)):w("",!0),L("div",{class:S(u(r).container)},[L("div",{class:S(u(r).inner)},[l.to?(f(),j(v,z({key:0,"aria-label":u(d)},u(o),{class:"focus:outline-none",tabindex:"-1"}),{default:I(()=>[Je]),_:1},16,["aria-label"])):w("",!0),e.badge||l.$slots.badge?(f(),b("div",{key:1,class:S(u(r).badge.wrapper)},[k(l.$slots,"badge",{},()=>[e.badge?(f(),j(m,z({key:0},{variant:"subtle",...e.badge},{class:u(r).badge.base}),null,16,["class"])):w("",!0)])],2)):w("",!0),e.title||l.$slots.title?(f(),b("h2",{key:2,class:S(u(r).title)},[k(l.$slots,"title",{},()=>[F(C(e.title),1)])],2)):w("",!0),e.description||l.$slots.description?(f(),b("p",{key:3,class:S(u(r).description)},[k(l.$slots,"description",{},()=>[F(C(e.description),1)])],2)):w("",!0),k(l.$slots,"default")],2),(O=e.authors)!=null&&O.length||e.date?(f(),b("div",{key:0,class:S(u(r).authors.wrapper)},[k(l.$slots,"authors",{},()=>{var P;return[(P=e.authors)!=null&&P.length?(f(),j(y,{key:0},{default:I(()=>[(f(!0),b(ae,null,ie(e.authors,($,U)=>(f(),j(n,z({key:U,alt:$.name,class:u(r).authors.avatar.base},{size:u(r).authors.avatar.size,...$.avatar}),{default:I(()=>[$.to?(f(),j(v,z({key:0},{target:"_blank",...u(T)($)},{class:"focus:outline-none",tabindex:"-1"}),{default:I(()=>[Qe]),_:2},1040)):w("",!0)]),_:2},1040,["alt","class"]))),128))]),_:1})):w("",!0)]}),k(l.$slots,"date",{},()=>[e.date?(f(),b("time",{key:0,datetime:new Date(e.date).toISOString(),class:S(u(r).date)},C(e.date),11,Xe)):w("",!0)])],2)):w("",!0)],2)],16)}}}),Ze=N({inheritAttrs:!1,__name:"BlogList",props:{orientation:{type:String,default:"horizontal"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t=e,i=h(()=>({wrapper:{horizontal:"flex flex-col lg:grid lg:grid-cols-3 gap-x-8 gap-y-16",vertical:"flex flex-col gap-y-16 w-full"}[t.orientation]})),{ui:a,attrs:r}=q("blog.list",A(t,"ui"),i,A(t,"class"),!0);return(s,o)=>(f(),b("div",z({class:u(a).wrapper},u(r)),[k(s.$slots,"default")],16))}}),at=N({__name:"index",async setup(e){let t,i;const{data:a}=([t,i]=V(()=>G("blog",()=>K("/blog").findOne())),t=await t,i(),t);if(!a.value)throw ke({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:r}=([t,i]=V(()=>G("posts",()=>K("/blog").where({_extension:"md"}).sort({date:-1}).find())),t=await t,i(),t);return ze({title:a.value.title,ogTitle:a.value.title,description:a.value.description,ogDescription:a.value.description}),(s,o)=>{const d=oe,l=Ye,c=Ze,g=le,v=$e;return f(),j(v,null,{default:I(()=>[W(d,z(u(a),{class:"py-[50px]"}),null,16),W(g,null,{default:I(()=>[W(c,null,{default:I(()=>[(f(!0),b(ae,null,ie(u(r),(m,n)=>(f(),j(l,{key:n,to:m._path,title:m.title,description:m.description,image:m.image,date:new Date(m.date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"}),authors:m.authors,badge:m.badge,orientation:n===0?"horizontal":"vertical",class:S([n===0&&"col-span-full"]),ui:{description:"line-clamp-2"}},null,8,["to","title","description","image","date","authors","badge","orientation","class"]))),128))]),_:1})]),_:1})]),_:1})}}});export{at as default};
